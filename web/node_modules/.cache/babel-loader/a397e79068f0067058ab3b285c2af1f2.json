{"ast":null,"code":"import _slicedToArray from\"/Users/inhyukna/gits/irnet/web/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/inhyukna/gits/irnet/web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/inhyukna/gits/irnet/web/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/inhyukna/gits/irnet/web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/inhyukna/gits/irnet/web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/inhyukna/gits/irnet/web/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import Select from'react-select';import axios from\"axios\";import ScrollArea from\"react-scrollbar\";import AttentionViewer from\"./AttentionViewer.js\";import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import dog_kennels from\"./images/dog_kennels.png\";import flight_2 from\"./images/flight_2.png\";import pets_1 from\"./images/pets_1.png\";import concert_singer from\"./images/concert_singer.png\";import museum_visit from\"./images/museum_visit.png\";import battle_death from\"./images/battle_death.png\";import student_transcripts_tracking from\"./images/student_transcripts_tracking.png\";import singer from\"./images/singer.png\";import cre_Doc_Template_Mgt from\"./images/cre_Doc_Template_Mgt.png\";import world_1 from\"./images/world_1.png\";import employee_hire_evaluation from\"./images/employee_hire_evaluation.png\";import network_1 from\"./images/network_1.png\";import poker_player from\"./images/poker_player.png\";import real_estate_properties from\"./images/real_estate_properties.png\";import course_teach from\"./images/course_teach.png\";import voter_1 from\"./images/voter_1.png\";import wta_1 from\"./images/wta_1.png\";import orchestra from\"./images/orchestra.png\";import car_1 from\"./images/car_1.png\";import tvshow from\"./images/tvshow.png\";import empty from\"./images/empty.png\";import dev_data from\"./dev.json\";import qid_checker from\"./qid_checker.json\";var db_ids=[{label:'dog_kennels',value:'dog_kennels',img:dog_kennels},{label:'flight_2',value:'flight_2',img:flight_2},{label:'pets_1',value:'pets_1',img:pets_1},{label:'concert_singer',value:'concert_singer',img:concert_singer},{label:'museum_visit',value:'museum_visit',img:museum_visit},{label:'battle_death',value:'battle_death',img:battle_death},{label:'student_transcripts_tracking',value:'student_transcripts_tracking',img:student_transcripts_tracking},{label:'singer',value:'singer',img:singer},{label:'cre_Doc_Template_Mgt',value:'cre_Doc_Template_Mgt',img:cre_Doc_Template_Mgt},{label:'world_1',value:'world_1',img:world_1},{label:'employee_hire_evaluation',value:'employee_hire_evaluation',img:employee_hire_evaluation},{label:'network_1',value:'network_1',img:network_1},{label:'poker_player',value:'poker_player',img:poker_player},{label:'real_estate_properties',value:'real_estate_properties',img:real_estate_properties},{label:'course_teach',value:'course_teach',img:course_teach},{label:'voter_1',value:'voter_1',img:voter_1},{label:'wta_1',value:'wta_1',img:wta_1},{label:'orchestra',value:'orchestra',img:orchestra},{label:'car_1',value:'car_1',img:car_1},{label:'tvshow',value:'tvshow',img:tvshow}];var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={db_id:'',nlq:'',result:'',schema_img:empty,attention_data:[],question:[]};_this.handleDBChange=function(e){_this.setState({db_id:e.value,schema_img:e.img});};_this.handleNLQChange=function(e){_this.setState({nlq:e.target.value});};_this.clicked=function(e){_this.setState({result:\"  processing...\"});if(_this.state.db_id===''){_this.setState({result:\"  plase specify db id\"});return;}axios.get('http://141.223.199.148:5000/service',{headers:{'Access-Control-Allow-Origin':'*'},crossdomain:true,params:{db_id:_this.state.db_id,question:_this.state.nlq}}).then(function(response){_this.setState({result:response.data.result});if('actions'in response.data){var attention_data=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=response.data.actions.entries()[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _ref3=_step.value;var _ref2=_slicedToArray(_ref3,2);var index=_ref2[0];var action=_ref2[1];var entry={rule:action};var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=response.data.attention[index].entries()[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var _ref6=_step2.value;var _ref5=_slicedToArray(_ref6,2);var q_index=_ref5[0];var attention=_ref5[1];entry[String(q_index)]=attention.toFixed(4);}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}attention_data.push(entry);}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}_this.setState({attention_data:attention_data,question:response.data.question});}});};_this.getContent=function(){var inner=[];dev_data.forEach(function(data,idx){if(data.db_id===_this.state.db_id){inner.push(React.createElement(\"div\",{className:\"ex_item\"},React.createElement(\"div\",{style:{textAlign:\"left\"}},React.createElement(\"b\",null,\"SQL: \"),\" \",data.query),React.createElement(\"div\",{style:{textAlign:\"left\"}},React.createElement(\"b\",null,\"NLQ: \"),\" \",data.question),React.createElement(\"div\",{style:{textAlign:\"left\"}},\"correct rate: \",qid_checker[idx],\"/4\")));}});return inner;};return _this;}_createClass(App,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"App\"},React.createElement(\"header\",{className:\"App-header\"},\"IRNet service\"),React.createElement(Select,{options:db_ids,placeholder:\"Select DB ID\",onChange:this.handleDBChange}),React.createElement(\"div\",{className:\"schema\"},React.createElement(\"b\",null,\" Schema:  \"),React.createElement(\"img\",{src:this.state.schema_img,alt:\"schema_img\"})),React.createElement(\"div\",{className:\"examples\"},React.createElement(\"b\",null,\" Examples:  \"),React.createElement(ScrollArea,{speed:0.8,className:\"area\",contentClassName:\"content\",horizontal:false},this.getContent())),React.createElement(\"div\",{className:\"nlq\"},React.createElement(\"b\",null,\" NLQ: \"),React.createElement(\"input\",{className:\"nlq_textbox\",onChange:this.handleNLQChange}),React.createElement(\"button\",{onClick:this.clicked},\" RUN \")),React.createElement(\"div\",{className:\"result\"},React.createElement(\"b\",null,\" Result: \"),\" \",this.state.result),React.createElement(\"div\",{className:\"attention\"},React.createElement(\"b\",null,\" Attention: \"),React.createElement(AttentionViewer,{data:this.state.attention_data,question:this.state.question})));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/inhyukna/gits/irnet/web/src/App.js"],"names":["React","Select","axios","ScrollArea","AttentionViewer","dog_kennels","flight_2","pets_1","concert_singer","museum_visit","battle_death","student_transcripts_tracking","singer","cre_Doc_Template_Mgt","world_1","employee_hire_evaluation","network_1","poker_player","real_estate_properties","course_teach","voter_1","wta_1","orchestra","car_1","tvshow","empty","dev_data","qid_checker","db_ids","label","value","img","App","state","db_id","nlq","result","schema_img","attention_data","question","handleDBChange","e","setState","handleNLQChange","target","clicked","get","headers","crossdomain","params","then","response","data","actions","entries","index","action","entry","rule","attention","q_index","String","toFixed","push","getContent","inner","forEach","idx","textAlign","query","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Select from 'react-select';\nimport axios from \"axios\";\nimport ScrollArea from \"react-scrollbar\"\nimport AttentionViewer from \"./AttentionViewer.js\"\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport dog_kennels from \"./images/dog_kennels.png\"\nimport flight_2 from \"./images/flight_2.png\"\nimport pets_1 from \"./images/pets_1.png\"\nimport concert_singer from \"./images/concert_singer.png\"\nimport museum_visit from \"./images/museum_visit.png\"\nimport battle_death from \"./images/battle_death.png\"\nimport student_transcripts_tracking from \"./images/student_transcripts_tracking.png\"\nimport singer from \"./images/singer.png\"\nimport cre_Doc_Template_Mgt from \"./images/cre_Doc_Template_Mgt.png\"\nimport world_1 from \"./images/world_1.png\"\nimport employee_hire_evaluation from \"./images/employee_hire_evaluation.png\"\nimport network_1 from \"./images/network_1.png\"\nimport poker_player from \"./images/poker_player.png\"\nimport real_estate_properties from \"./images/real_estate_properties.png\"\nimport course_teach from \"./images/course_teach.png\"\nimport voter_1 from \"./images/voter_1.png\"\nimport wta_1 from \"./images/wta_1.png\"\nimport orchestra from \"./images/orchestra.png\"\nimport car_1 from \"./images/car_1.png\"\nimport tvshow from \"./images/tvshow.png\"\nimport empty from \"./images/empty.png\"\nimport dev_data from \"./dev.json\"\nimport qid_checker from \"./qid_checker.json\"\n\n\nconst db_ids= [\n  {label: 'dog_kennels', value: 'dog_kennels', img: dog_kennels},\n  {label: 'flight_2', value: 'flight_2', img: flight_2},\n  {label: 'pets_1', value: 'pets_1', img: pets_1},\n  {label: 'concert_singer', value: 'concert_singer', img: concert_singer},\n  {label: 'museum_visit', value: 'museum_visit', img: museum_visit},\n  {label: 'battle_death', value: 'battle_death', img: battle_death},\n  {label: 'student_transcripts_tracking', value: 'student_transcripts_tracking', img: student_transcripts_tracking},\n  {label: 'singer', value: 'singer', img: singer},\n  {label: 'cre_Doc_Template_Mgt', value: 'cre_Doc_Template_Mgt', img: cre_Doc_Template_Mgt},\n  {label: 'world_1', value: 'world_1', img: world_1},\n  {label: 'employee_hire_evaluation', value: 'employee_hire_evaluation', img: employee_hire_evaluation},\n  {label: 'network_1', value: 'network_1', img: network_1},\n  {label: 'poker_player', value: 'poker_player', img: poker_player},\n  {label: 'real_estate_properties', value: 'real_estate_properties', img: real_estate_properties},\n  {label: 'course_teach', value: 'course_teach', img: course_teach},\n  {label: 'voter_1', value: 'voter_1', img: voter_1},\n  {label: 'wta_1', value: 'wta_1', img: wta_1},\n  {label: 'orchestra', value: 'orchestra', img: orchestra},\n  {label: 'car_1', value: 'car_1', img: car_1},\n  {label: 'tvshow', value: 'tvshow', img: tvshow}\n]\n\nclass App extends React.Component {\n  state = {\n    db_id: '',\n    nlq: '',\n    result: '',\n    schema_img: empty,\n    attention_data: [],\n    question: []\n  }\n\n  handleDBChange = (e) => {\n    this.setState({\n      db_id: e.value,\n      schema_img: e.img\n    })\n  }\n\n  handleNLQChange = (e) => {\n    this.setState({\n      nlq: e.target.value\n    })\n  }\n\n  clicked = (e) => {\n    this.setState({\n      result: \"  processing...\"\n    })\n    if (this.state.db_id === '') {\n      this.setState({\n        result: \"  plase specify db id\"\n      })\n      return\n    }\n\n    axios.get('http://141.223.199.148:5000/service', {\n      headers: { \n        'Access-Control-Allow-Origin': '*',\n      },\n      crossdomain: true,\n      params: {db_id: this.state.db_id, question: this.state.nlq}\n    }).then( response => {\n      this.setState({\n        result: response.data.result\n      })\n      if ('actions' in response.data) {\n        const attention_data = []\n        for (const [index, action] of response.data.actions.entries()) {\n          const entry = {rule: action}\n          for (const [q_index, attention] of response.data.attention[index].entries()) {\n            entry[String(q_index)] = attention.toFixed(4)\n          }\n          attention_data.push(entry)\n        }\n        this.setState({\n          attention_data: attention_data,\n          question: response.data.question\n        })\n      }\n    })\n  }\n\n  getContent = () => {\n    const inner = [];\n    dev_data.forEach((data, idx) => {\n      if (data.db_id === this.state.db_id) {\n        inner.push(\n          <div className=\"ex_item\">\n            <div style={{textAlign: \"left\"}}>\n              <b>SQL: </b> {data.query}\n            </div>\n            <div style={{textAlign: \"left\"}}>\n              <b>NLQ: </b> {data.question}\n            </div>\n            <div style={{textAlign: \"left\"}}>\n              correct rate: {qid_checker[idx]}/4\n            </div>\n          </div>,\n        );\n      }\n    });\n    return inner;\n  }\n\n  render(){\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n            IRNet service\n        </header>\n        <Select options = {db_ids} \n          placeholder='Select DB ID'\n          onChange={this.handleDBChange}\n        />\n        <div className='schema'>\n          <b> Schema:  </b>\n          <img src={this.state.schema_img} alt=\"schema_img\" />\n        </div>\n        <div className='examples'>\n          <b> Examples:  </b>\n          <ScrollArea\n            speed={0.8}\n            className=\"area\"\n            contentClassName=\"content\"\n            horizontal={false}\n            >\n          {this.getContent()}\n        </ScrollArea>\n\n\n\n        </div>\n        <div className='nlq'>\n          <b> NLQ: </b>\n          <input className='nlq_textbox'\n            onChange={this.handleNLQChange}/>\n          <button onClick={this.clicked}> RUN </button>\n        </div>\n        <div className='result'>\n          <b> Result: </b> {this.state.result}\n        </div>\n        <div className=\"attention\">\n          <b> Attention: </b>\n          <AttentionViewer data={this.state.attention_data} question={this.state.question} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}